---
title: テストページ for Hexo その３
date: 1999-01-03 00:00:00
updated: 2016-11-07
tags:
 - Test
---
※このページは Hexo の動作確認のためのものです。内容は無視してください。

---
大好きな本です。

<a class="fancybox" href="https://www.amazon.co.jp/dp/4048669095/" target="_blank"><img src="{% asset_path book01.jpg %}" alt="有川浩「海の底」" width="350" height="499" style="display:inline" />
有川浩「海の底」 / アスキー・メディアワークス / 2005年
</a>

foo

<a class="fancybox" href="https://www.amazon.co.jp/dp/4048669095/" target="_blank"><img src="{% asset_path book01.jpg %}" alt="有川浩「海の底」" width="350" height="499" />
有川浩「海の底」 / アスキー・メディアワークス / 2005年
</a>

有川浩さんの自衛隊三部作です。

<a href="https://www.amazon.co.jp/dp/4048669095/" target="_blank">
{% asset_img book01.jpg "有川浩「海の底」" %}
</a>

hoge

<span class="fancybox">{% asset_img book01.jpg %}</span>

bar

<img src="{% asset_path book01.jpg %}" alt="" title="" />

baz

<span class="fancybox"><img src="{% asset_path book01.jpg %}" alt="" title="" /></span>

fuga

![表紙画像](/1999/01/03/test-page-for-hexo-003/book01.jpg)

    ![表紙画像]({% asset_path book01.jpg %})
    [![表紙画像]({% asset_path book01.jpg %})](/hogehoge.png)

[![表紙画像](/1999/01/03/test-page-for-hexo-003/book01.jpg)](/hogehoge.png)

[<span class="fancybox">![Book Cover](/1999/01/03/test-page-for-hexo-003/book01.jpg)</span>](/hogehoge.png)

huga

------------------------------------------------------------------------------
```https://groups.google.com/forum/?hl=ja#!topic/hexo/JZKBUhkg6Sw
I think this is caused by "fancybox" plugin.

This plugin makes all <img> HTML elements as hyperlink to itself.
Because this hyperlink (<a> element) is inside of the <a> element
generated by link markdown, latter is ignored unfortunately.
This modification is executed on your browser on-the-fly (not server side).
Even if you disable "fancybox" in your "_config.yml" ("fancybox: false"),
this modification still works (can not controll by "_config.yml").

To avoid this modification, add a class attribute "fancybox"
to the parent element of the <img> HTML element.
For example, add <span> HTML tag around the image markdown:

    [<span class="fancybox">![Book Cover](/entry/book-uminosoko/book01-small.jpg)</span>](/entry/book-uminosoko/book01.jpg)

This solusion is ugly...

A little better solution is to modify JavaScript file of "fancybox" plugin.
In the Hexo site directory, open "themes/landscape/source/js/script.js" and
comment-out or delete lines from line 88 through 107.

https://github.com/hexojs/hexo-theme-landscape/blob/master/source/js/script.js#L88-L107

Feel free to contact me for any questions.
```
------------------------------------------------------------------------------
```https://groups.google.com/forum/?hl=ja#!topic/hexo/u5lDtsN1vqU
Caption and hyperlink of image is generated by .js file of "fancybox" plugin on your browser (not server side).

To disable caption and hyperlink (fancybox), add a class attribute "fancybox" to the parent element of the image.

    <span class="fancybox">{% asset_img book01.jpg %}</span>

To disable caption and the alt attribute, write <a> tag directly.

    <img src="{% asset_path book01.jpg %}" alt="" title="" />

To disable above all decoration (caption/hyperlink/alt), combine both technique.

    <span class="fancybox"><img src="{% asset_path book01.jpg %}" alt="" title="" /></span>

I hope this information helps you.
```

------------------------------------------------------------------------------

```
<a href="https://www.amazon.co.jp/dp/4048669095/" target="_blank">
{% img {% asset_path book01.jpg %} 350 499 "有川浩「海の底」" %}
</a>
```

同じように苦労している人を発見。
斜め読みして見逃していたけど、実はこれが正解でした：
http://alexdrenea.com/2016/04/28/hexo-image-hacking/

同じような話をしているが、これではうまくいかなかった：
http://ammonsonline.com/adding-images-to-a-hexo-post-via-markdown/

コメントで「fancybox を無効化しろ」と言ってるが、やってもダメだった：
https://libraries.io/github/netcan/hexo-theme-yelee

結局、ソースコード `themes/landscape/source/js/script.js` を読みました。
`img` 要素の親要素に `fancybox` クラスが指定されていると余計な加工をスキップできることが判明。
ちなみにこのスクリプトでは `themes/landscape/_config.yml` の情報を一切参照していないように見える（謎

というか、このスクリプトはブラウザ上でそのまま実行されるものでした。
`themes/landscape/_config.yml` で `fancybox: false` と指定すれば、
Fancybox の JavaScript と CSS はブラウザ上で読み込まれなくなるのですが、
`script.js` はそれとは無関係に常に実行されてしまうのでした。残念。
